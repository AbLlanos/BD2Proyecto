<app-navbar></app-navbar>

<div class="contenedor">
    <h1 class="titulo">Lista de Productos</h1>
    
    <div class="productos-grid">
        @for (producto of productos; track producto.id_producto) {
        <div class="card-producto">
            <div class="card-content">
                <!-- Imagen -->
                <div class="imagen-container">
                    <img class="producto-img" 
                         [src]="producto.imgUrl"
                         alt="{{ producto.nombre }}" />
                </div>
                
                <!-- Info del producto -->
                <div class="info-container">
                    <h2 class="producto-id">ID: {{ producto.id_producto }}</h2>
                    <div class="producto-detalles">
                        <p><strong>Nombre:</strong> {{ producto.nombre }}</p>
                        <p><strong>Precio:</strong> ${{ producto.precio }}</p>
                        <p><strong>Cantidad:</strong> {{ producto.cantidad }}</p>
                        <p><strong>IVA:</strong> {{ producto.iva * 100 }}%</p>
                        <p><strong>Categoría:</strong> {{ getNombreCategoria(producto) }}</p>
                        <p><strong>Proveedor:</strong> {{ getNombreProveedor(producto) }}</p>
                    </div>
                    
                    <!-- Botón de compra -->
                    <div class="boton-container">
                        <button type="button"
                                class="boton-comprar"
                                (click)="comprar(producto)" 
                                [disabled]="producto.cantidad === 0"
                                [class.agotado]="producto.cantidad === 0">
                            {{ producto.cantidad === 0 ? 'Agotado' : 'Comprar' }}
                        </button>
                    </div>
                </div>
            </div>
        </div>
        }
    </div>
</div>