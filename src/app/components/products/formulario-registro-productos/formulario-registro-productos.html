<app-navbar></app-navbar>

<div class="container1 w-full min-h-screen flex items-center justify-center bg-blue-50 px-4 py-24">

    <div class="w-full max-w-4xl bg-white rounded-2xl shadow-xl overflow-hidden flex flex-col md:flex-row">

        <div class="w-full md:w-1/2 h-64 md:h-auto">
            <img src="https://images.pexels.com/photos/31888738/pexels-photo-31888738.jpeg" alt="Imagen de producto"
                class="w-full h-full object-cover object-center">
        </div>

        <div class="w-full md:w-1/2 p-8 flex flex-col justify-center space-y-6">

            <div class="bg-blue-100 p-6 rounded-xl shadow-lg">

                <div class="text-center mb-6">
                    <h1 class="text-4xl font-bold text-blue-700">Crear Producto</h1>
                    <p class="text-blue-600 mt-2">Ingrese los datos del producto para registrarlo en el minimarket</p>

                    <div class="mt-6 flex justify-center">
                        <img src="https://cdn-icons-png.flaticon.com/128/15407/15407208.png" alt="Logo"
                            class="w-30 h-24">
                    </div>
                </div>

                <form [formGroup]="productoForm" (ngSubmit)="agregarProducto()" class="space-y-4">

                    <!-- Nombre -->
                    <div>
                        <label class="block text-sm font-medium text-blue-700">Nombre</label>
                        <input type="text" formControlName="nombre" placeholder="Nombre del producto"
                            class="w-full px-4 py-2 border border-blue-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400" />
                        @if (productoForm.get('nombre')?.invalid && productoForm.get('nombre')?.touched) {
                        <span class="text-red-500 text-sm">El nombre es obligatorio</span>
                        }
                    </div>

                    <!-- Precio -->
                    <div>
                        <label class="block text-sm font-medium text-blue-700">Precio</label>
                        <input type="number" formControlName="precio" step="0.01"
                            class="w-full px-4 py-2 border border-blue-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400" />
                    </div>

                    <!-- Cantidad -->
                    <div>
                        <label class="block text-sm font-medium text-blue-700">Cantidad</label>
                        <input type="number" formControlName="cantidad"
                            class="w-full px-4 py-2 border border-blue-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400" />
                    </div>

                    <!-- IVA -->
                    <div>
                        <label class="block text-sm font-medium text-blue-700">IVA (%)</label>
                        <input type="number" formControlName="iva" step="0.01" min="0" max="1"
                            class="w-full px-4 py-2 border border-blue-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400" />
                    </div>

                    <!-- IMG -->
                    <label class="block text-sm font-medium text-blue-700">
                        Ingrese el URL de la imagen del producto
                    </label>
                    <input type="text" formControlName="imgUrl" placeholder="imagen"
                        class="w-full px-4 py-2 border border-blue-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400" />
                    @if (productoForm.get('imgUrl')?.invalid && productoForm.get('imgUrl')?.touched) {
                    <span class="text-red-500 text-sm">La imagen es obligatoria</span>
                    }

                    <!-- Categoría -->
                    <div>
                        <label class="block text-sm font-medium text-blue-700">Categoría</label>
                        <select formControlName="id_categoria"
                            class="w-full px-4 py-2 border border-blue-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400">
                            <option value="">Seleccione una categoría</option>
                            @for (cat of categorias; track cat.id_categoria) {
                            <option [value]="cat.id_categoria">{{ cat.nombre }}</option>
                            }
                        </select>
                    </div>

                    <!-- Proveedor -->
                    <div>
                        <label class="block text-sm font-medium text-blue-700">Proveedor</label>
                        <select formControlName="id_proveedor"
                            class="w-full px-4 py-2 border border-blue-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400">
                            <option value="">Seleccione un proveedor</option>
                            @for (prov of proveedores; track prov.id_proveedor) {
                            <option [value]="prov.id_proveedor">{{ prov.nombre }}</option>
                            }
                        </select>
                    </div>

                    <!-- Botón -->
                    <button type="submit"
                        class="w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-6 rounded-lg transition-transform transform hover:scale-105">
                        Guardar Producto
                    </button>

                </form>
            </div>

        </div>

    </div>

</div>